eldercare <- st_read("data/ELDERCARE.kml")
chas_clinic <- st_read("data/chas-clinics")
mpsz <- st_read(dsn = "data",
layer = "MP14_SUBZONE_WEB_PL")
popdata <- read_csv("data/respopagesextod2011to2020.csv")
eldercare <- st_read("data/ELDERCARE.kml")
# chas_clinic <- st_read("data/chas-clinics")
chas_clinic <- st_read("data/geospatial/chas-clinics-kml.kml")
mpsz <- st_read(dsn = "data",
layer = "MP14_SUBZONE_WEB_PL")
popdata <- read_csv("data/respopagesextod2011to2020.csv")
eldercare <- st_read("data/ELDERCARE.kml")
# chas_clinic <- st_read("data/chas-clinics")
chas_clinic <- st_read("data/chas-clinics-kml.kml")
packages = c('tmap', 'tidyverse','rvest','stringr','rebus','lubridate','janitor',
'sf', 'sp', 'caret',
'geojsonio', 'stplanr',
'reshape2', 'broom')
for(p in packages){
if(!require(p, character.only = T)){
install.packages(p)
}
library(p, character.only = T)
}
mpsz <- st_read(dsn = "data",
layer = "MP14_SUBZONE_WEB_PL")
popdata <- read_csv("data/respopagesextod2011to2020.csv")
eldercare <- st_read("data/ELDERCARE.kml")
chas_clinic <- st_read("data/chas-clinics-kml.kml")
# chas_clinic <- st_read("data/chas-clinics")
st_crs(mpsz)
mpsz <- st_read(dsn = "data",
layer = "MP14_SUBZONE_WEB_PL")
popdata <- read_csv("data/respopagesextod2011to2020.csv")
eldercare <- st_read("data/ELDERCARE.kml")
chas_clinic <- st_read("data/chas-clinics-kml.kml")
# chas_clinic <- st_read("data/chas-clinics")
sum(is.na(mpsz))
sum(is.na(mpsz))
sum(is.na(mpsz))
sum(is.na(popdata))
sum(is.na(eldercare))
sum(is.na(chas_clinic))
View(mpsz)
View(eldercare)
View(mpsz)
mpsz3414 <- st_transform(mpsz, 3414)
st_crs(mpsz3414)
eldercare3414 <- st_transform(eldercare, 3414)
st_crs(eldercare3414)
sum(is.na(mpsz3414))
sum(is.na(popdata))
sum(is.na(eldercare3414))
sum(is.na(chas_clinic))
mpsz$`ELDERCARE` <- lengths(st_intersects(mpsz3414, eldercare3414))
View(mpsz)
View(mpsz3414)
View(mpsz)
tm_shape(mpsz)+
tm_fill(col = "ELDERCARE",
palette = "Blues",
style = "jenks") +
tm_layout(main.title = "Supply of Eldercare Services at the Planning Subzone Level",
main.title.position = "center",
main.title.size = 1,
legend.height = 0.45,
legend.width = 0.35,
legend.outside = FALSE,
legend.position = c("right", "bottom"),
frame = FALSE) +
tm_borders(alpha = 0.5)
packages = c('tmap', 'tidyverse','rvest','stringr','rebus','lubridate','janitor',
'sf', 'sp', 'caret',
'geojsonio', 'stplanr',
'reshape2', 'broom')
for(p in packages){
if(!require(p, character.only = T)){
install.packages(p)
}
library(p, character.only = T)
}
mpsz <- st_read(dsn = "data",
layer = "MP14_SUBZONE_WEB_PL")
popdata <- read_csv("data/respopagesextod2011to2020.csv")
eldercare <- st_read("data/ELDERCARE.kml")
chas_clinic <- st_read("data/chas-clinics-kml.kml")
packages = c('tmap', 'tidyverse','rvest','stringr','rebus','lubridate','janitor',
'sf', 'sp', 'caret',
'geojsonio', 'stplanr',
'reshape2', 'broom')
for(p in packages){
if(!require(p, character.only = T)){
install.packages(p)
}
library(p, character.only = T)
}
mpsz <- st_read(dsn = "data",
layer = "MP14_SUBZONE_WEB_PL")
popdata <- read_csv("data/respopagesextod2011to2020.csv")
eldercare <- st_read("data/ELDERCARE.kml")
chas_clinic <- st_read("data/chas-clinics-kml.kml")
popdata <- read_csv("data/respopagesextod2011to2020.csv")
popdata <- read_csv("data/respopagesextod2011to2020.csv")
mpsz3414 <- st_transform(mpsz, 3414)
st_crs(mpsz3414)
eldercare3414 <- st_transform(eldercare, 3414)
st_crs(eldercare3414)
chas_clinic_3414 <- st_transform(chas_clinic, 3414)
st_crs(chas_clinic_3414)
sum(is.na(mpsz3414))
sum(is.na(popdata))
sum(is.na(eldercare3414))
sum(is.na(chas_clinic_3414))
mpsz3414$`ELDERCARE` <- lengths(st_intersects(mpsz3414, eldercare3414))
View(mpsz3414)
mpsz3414$`ELDERCARE` <- lengths(st_intersects(mpsz3414, eldercare3414))
tm_shape(mpsz)+
tm_fill(col = "ELDERCARE",
palette = "Blues",
style = "jenks") +
tm_layout(main.title = "Supply of Eldercare Services at the Planning Subzone Level",
main.title.position = "center",
main.title.size = 1,
legend.height = 0.45,
legend.width = 0.35,
legend.outside = FALSE,
legend.position = c("right", "bottom"),
frame = FALSE) +
tm_borders(alpha = 0.5)
tm_shape(mpsz3414)+
tm_fill(col = "ELDERCARE",
palette = "Blues",
style = "jenks") +
tm_layout(main.title = "Supply of Eldercare Services at the Planning Subzone Level",
main.title.position = "center",
main.title.size = 1,
legend.height = 0.45,
legend.width = 0.35,
legend.outside = FALSE,
legend.position = c("right", "bottom"),
frame = FALSE) +
tm_borders(alpha = 0.5)
packages = c('tmap', 'tidyverse','rvest','stringr','rebus','lubridate','janitor',
'sf', 'sp', 'caret',
'geojsonio', 'stplanr',
'reshape2', 'broom')
for(p in packages){
if(!require(p, character.only = T)){
install.packages(p)
}
library(p, character.only = T)
}
mpsz <- st_read(dsn = "data",
layer = "MP14_SUBZONE_WEB_PL")
popdata <- read_csv("data/respopagesextod2011to2020.csv")
eldercare <- st_read("data/ELDERCARE.kml")
chas_clinic <- st_read("data/chas-clinics-kml.kml")
popdata <- read_csv("data/respopagesextod2011to2020.csv")
mpsz3414 <- st_transform(mpsz, 3414)
st_crs(mpsz3414)
eldercare3414 <- st_transform(eldercare, 3414)
st_crs(eldercare3414)
clinic3414 <- st_transform(chas_clinic, 3414)
st_crs(clinic3414)
sum(is.na(mpsz3414))
sum(is.na(popdata))
sum(is.na(eldercare3414))
sum(is.na(clinic3414))
mpsz3414$`ELDERCARE` <- lengths(st_intersects(mpsz3414, eldercare3414))
tm_shape(mpsz3414)+
tm_fill(col = "ELDERCARE",
palette = "Blues",
style = "jenks") +
tm_layout(main.title = "Supply of Eldercare Services at the Planning Subzone Level",
main.title.position = "center",
main.title.size = 1,
legend.height = 0.45,
legend.width = 0.35,
legend.outside = FALSE,
legend.position = c("right", "bottom"),
frame = FALSE) +
tm_borders(alpha = 0.5)
mpsz3414$`CLINICS` <- lengths(st_intersects(mpsz3414, clinic3414))
View(mpsz3414)
tm_shape(mpsz3414)+
tm_fill(col = "CLINICS",
palette = "Blues",
style = "jenks") +
tm_layout(main.title = "Supply of CHAS Clinics at the Planning Subzone Level",
main.title.position = "center",
main.title.size = 1,
legend.height = 0.45,
legend.width = 0.35,
legend.outside = FALSE,
legend.position = c("right", "bottom"),
frame = FALSE) +
tm_borders(alpha = 0.5)
blogdown:::preview_site(startup = TRUE)
blogdown:::preview_site()
blogdown:::preview_site()
mpsz <- st_read(dsn = "data",
layer = "MP14_SUBZONE_WEB_PL")
popdata <- read_csv("data/respopagesextod2011to2020.csv")
eldercare <- st_read("data/ELDERCARE.kml")
chas_clinic <- st_read("data/chas-clinics-kml.kml")
community_clubs <- st_read("data/community-clubs-kml.kml")
packages = c('tmap', 'tidyverse','rvest','stringr','rebus','lubridate','janitor',
'sf', 'sp', 'caret',
'geojsonio', 'stplanr',
'reshape2', 'broom')
for(p in packages){
if(!require(p, character.only = T)){
install.packages(p)
}
library(p, character.only = T)
}
mpsz <- st_read(dsn = "data",
layer = "MP14_SUBZONE_WEB_PL")
popdata <- read_csv("data/respopagesextod2011to2020.csv")
eldercare <- st_read("data/ELDERCARE.kml")
chas_clinic <- st_read("data/chas-clinics-kml.kml")
community_club <- st_read("data/community-clubs-kml.kml")
popdata <- read_csv("data/respopagesextod2011to2020.csv")
mpsz3414 <- st_transform(mpsz, 3414)
st_crs(mpsz3414)
eldercare3414 <- st_transform(eldercare, 3414)
st_crs(eldercare3414)
chas_clinic3414 <- st_transform(chas_clinic, 3414)
st_crs(chas_clinic3414)
community_club3414 <- st_transform(community_club, 3414)
st_crs(community_club3414)
sum(is.na(mpsz3414))
sum(is.na(popdata))
sum(is.na(eldercare3414))
sum(is.na(chas_clinic3414))
sum(is.na(community_club3414))
mpsz3414$`ELDERCARE` <- lengths(st_intersects(mpsz3414, eldercare3414))
tm_shape(mpsz3414)+
tm_fill(col = "ELDERCARE",
palette = "Blues",
style = "jenks") +
tm_layout(main.title = "Supply of Eldercare Services at the Planning Subzone Level",
main.title.position = "center",
main.title.size = 1,
legend.height = 0.45,
legend.width = 0.35,
legend.outside = FALSE,
legend.position = c("right", "bottom"),
frame = FALSE) +
tm_borders(alpha = 0.5)
mpsz3414$`CLINICS` <- lengths(st_intersects(mpsz3414, chas_clinic3414))
tm_shape(mpsz3414)+
tm_fill(col = "CLINICS",
palette = "Blues",
style = "jenks") +
tm_layout(main.title = "Supply of CHAS Clinics at the Planning Subzone Level",
main.title.position = "center",
main.title.size = 1,
legend.height = 0.45,
legend.width = 0.35,
legend.outside = FALSE,
legend.position = c("right", "bottom"),
frame = FALSE) +
tm_borders(alpha = 0.5)
mpsz3414$`COMMUNITY_CLUBS` <- lengths(st_intersects(mpsz3414, community_club3414))
tm_shape(mpsz3414)+
tm_fill(col = "COMMUNITY_CLUBS",
palette = "Blues",
style = "jenks") +
tm_layout(main.title = "Supply of CHAS Clinics at the Planning Subzone Level",
main.title.position = "center",
main.title.size = 1,
legend.height = 0.45,
legend.width = 0.35,
legend.outside = FALSE,
legend.position = c("right", "bottom"),
frame = FALSE) +
tm_borders(alpha = 0.5)
View(popdata)
population20 <- popdata %>%
filter(Time == 2020)
population20_tidy <- population20 %>%
group_by(PA, SZ, AG) %>%
summarise(`POP` = sum(`Pop`)) %>%
ungroup() %>%
pivot_wider(names_from = AG, values_from = POP) %>%
mutate(TOTAL = rowSums(.[3:21]))
glimpse(population20_tidy)
View(population20_tidy)
shiny::runApp('Project')
runApp('Project')
runApp('Project')
install.packages("shinythemes")
runApp('Project')
runApp('Project')
runApp('Project')
runApp('Project')
runApp('Project')
runApp('Project')
View(eldercare3414)
View(eldercare)
View(eldercare)
View(eldercare)
View(mpsz3414)
View(mpsz3414)
view(mpsz3414)
view(mpsz)
View(mpsz)
runApp('Project')
shiny::runApp()
runApp()
shiny::runApp()
runApp()
runApp()
runApp()
chas_clinics <- st_read("../data/chas-clinics-kml.kml")
View(chas_clinics)
chas_clinics_3414 <- st_transform(chas_clinics, 3414)
View(chas_clinics_3414)
runApp()
mpsz <- st_read(dsn = "data",
layer = "MP14_SUBZONE_WEB_PL")
mpsz <- st_read(dsn = "../data",
layer = "MP14_SUBZONE_WEB_PL")
mpsz_chas <- left_join(mpsz, chas_clinics3413,
by = c("SUBZONE_N" = "SZ"))
chas_clinics <- st_read("data/chas-clinics-kml.kml")
chas_clinics <- st_read("../data/chas-clinics-kml.kml")
chas_clinics3413 <- st_transform(chas_clinics, 3414)
mpsz_chas <- left_join(mpsz, chas_clinics3413,
by = c("SUBZONE_N" = "SZ"))
chas_clinics3413 <- st_transform(chas_clinics, 3414)
mpsz_chas <- st_join(mpsz, chas_clinics3413,
by = c("SUBZONE_N" = "SZ"))
View(mpsz)
mpsz3414 <- st_set_crs(mpsz, 3414)
mpsz3414 <- st_transform(mpsz, 3414)
mpsz_chas <- st_join(mpsz3414, chas_clinics3413,
by = c("SUBZONE_N" = "SZ"))
View(mpsz_chas)
View(chas_clinics3413)
mpsz3414$`Chas Count`<- lengths(st_intersects(mpsz3414, chas_clinics3413))
View(mpsz3414)
View(mpsz3414)
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
popdata <- read_csv("../data/respopagesextod2011to2020.csv")
population20 <- popdata %>%
filter(Time == 2020)
population20_tidy <- population20 %>%
group_by(PA, SZ, AG) %>%
summarise(`POP` = sum(`Pop`)) %>%
ungroup() %>%
pivot_wider(names_from = AG, values_from = POP) %>%
mutate(TOTAL = rowSums(.[3:21]))
pop_65above <- population20_tidy %>%
mutate(`65_Above` = rowSums(.[16:21])) %>%
dplyr::select(PA, SZ, `65_Above`)
mpsz <- st_read(dsn = "../data",
layer = "MP14_SUBZONE_WEB_PL")
mpsz3414 <- st_transform(mpsz, 3414)
community_club <- st_read("../data/community-clubs-kml.kml")
community_club3414 <- st_transform(community_club, 3414)
mpsz3414$`COMMUNITY_CLUBS` <- lengths(st_intersects(mpsz3414, community_club3414))
community_club_supply <- mpsz3414 %>%
dplyr::select(SUBZONE_N, PLN_AREA_N, COMMUNITY_CLUBS)
eldercare <- st_read("../data/ELDERCARE.kml")
eldercare3414 <- st_transform(eldercare, 3414)
mpsz3414$`ELDERCARE` <- lengths(st_intersects(mpsz3414, eldercare3414))
eldercare_supply <- mpsz3414 %>%
dplyr::select(SUBZONE_N, PLN_AREA_N, ELDERCARE)
chas_clinics <- st_read("../data/chas-clinics-kml.kml")
chas_clinics3413 <- st_transform(chas_clinics, 3414)
mpsz3414$`CHASCLINIC`<- lengths(st_intersects(mpsz3414, chas_clinics3413))
chas_supply <- mpsz3414 %>%
dplyr::select(SUBZONE_N, PLN_AREA_N,CHASCLINIC)
View(eldercare_supply)
View(chas_supply)
runApp()
View(pop_65above)
View(chas_clinics3413)
community_club_supply <- mpsz3414 %>%
as_tibble(SUBZONE_N, PLN_AREA_N, COMMUNITY_CLUBS)
community_club_supply <- community_club_supply %>%
as_tibble(community_club_supply)
community_club_supply <- community_club_supply %>%
as.data.frame(community_club_supply)
View(community_club_supply)
community_club_supply <- community_club_supply %>%
st_set_geometry()(community_club_supply)
community_club_supply <- community_club_supply %>%
st_set_geometry(community_club_supply)
community_club_supply <- mpsz3414 %>%
dplyr::select(SUBZONE_N, PLN_AREA_N, COMMUNITY_CLUBS)
community_club_supply <- community_club_supply %>%
st_set_geometry(community_club_supply)
community_club_supply <- st_set_geometry(community_club_supply)
community_club_supply <- st_set_geometry(community_club_supply,NULL)
View(community_club_supply)
runApp()
runApp()
View(community_club_supply)
runApp()
runApp()
runApp()
runApp()
community_club_supply <- mpsz3414 %>%
dplyr::select(SUBZONE_N, PLN_AREA_N, COMMUNITY_CLUBS)
runApp()
runApp()
runApp()
runApp()
runApp()
View(chas_clinics3413)
View(chas_supply)
View(community_club_supply)
View(community_club3414)
runApp()
runApp()
runApp()
runApp()
runApp()
View(chas_clinics)
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
shiny::runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
knitr::opts_chunk$set(echo = TRUE)
packages = c('tmap', 'tidyverse','rvest','stringr','rebus','lubridate','janitor',
'sf', 'sp', 'caret',
'geojsonio', 'stplanr',
'reshape2', 'broom')
for(p in packages){
if(!require(p, character.only = T)){
install.packages(p)
}
library(p, character.only = T)
}
url <-'https://www.healthhub.sg/directory/hospitals'
content <- read_html(url)
content
# tables <- content %>% html_table(fill = TRUE)
# length(tables)
# first_table <- tables[[1]]
# for (item in tables){
#   names = item[2]
#   adds = item[3]
#   status = item[4]
# }
View(content)
